<!DOCTYPE html>
<html>
<!--
Generated from otfgroff.ms by troff2page, v. 20170816
Copyright (C) 2017 Dorai Sitaram
(running on Lua 5.3)
http://ds26gte.github.io/troff2page/index.html
-->
<head>
<meta charset="utf-8">
<title>
otfgroff
</title>
<link rel="stylesheet" href="otfgroff-Z-S.css" title=default>
<meta name=robots content="index,follow">
</head>
<body>
<p>
<div>


</p>
<p>
<h1>Adding OpenType Fonts to groff</h1>
</p>
<p>
The following is summarized from
<a href="https://lists.gnu.org/archive/html/groff/2010-09/msg00000.html"><span class=hreftext>posts
by Pierre-Jean Fichet in 2010 in the groff mailing list</span></a>.

</p>
<p class=indent>
groff comes with a set of fonts in its default font directory,
which is something like <span style="font-family: monospace; ">/usr/share/groff/current/font</span>.  This
contains subdirectories <span style="font-family: monospace; ">devps</span>, <span style="font-family: monospace; ">devdvi</span> &#x26;c.  In order to add
your own fonts, it is best to create your own font directory on
this model, e.g., create a directory <span style="font-family: monospace; ">groffonts</span> somewhere in
your space, and in it make a subdirectory <span style="font-family: monospace; ">devps</span>.  To inform
groff of this addition, set the environment variable
<span style="font-family: monospace; ">GROFF_FONT_PATH</span>:

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;export&#xa0;GROFF_FONT_PATH=~/groffonts<Br>
<p>
</p>
</span><p>


</p>
<p>
As an example, let us now add the Baskervald OpenType font (OTF)
to groff.  Baskervald is a Baskerville-like free font available
from <a href="http://arkandis.tuxfamily.org/adffonts.html"><span class=hreftext>http://arkandis.tuxfamily.org/adffonts.html</span></a>.  Unpack the
provided zip file and add four of the OTF files, viz.

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;BaskervaldADFStd.otf<Br>
&#xa0;&#xa0;BaskervaldADFStd-Italic.otf<Br>
&#xa0;&#xa0;BaskervaldADFStd-Bold.otf<Br>
&#xa0;&#xa0;BaskervaldADFStd-BoldItalic.otf<Br>
<p>
</p>
</span><p>


</p>
<p>
to your <span style="font-family: monospace; ">groffonts/devps</span> directory.  These are now to be
transformed into a four-element _font family_ that is suitable
for groff.  For this, use the provided script <span style="font-family: monospace; ">otf2groff.sh</span>,
which takes two arguments: the name of the OTF font and the name
preferred for the corresponding groff font.  E.g.,

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;otf2groff.sh&#xa0;BaskervaldADFStd.otf&#xa0;baskervaldR<Br>
<p>
</p>
</span><p>


</p>
<p>
This creates the groff font <span style="font-family: monospace; ">baskervaldR</span> and adds a line to a
file <span style="font-family: monospace; ">download.addition</span>, creating it if it doesn’t exist.  Here,
the prefix <span style="font-family: monospace; ">baskervald</span> identifies the family name that will be
used by groff, and the suffix <span style="font-family: monospace; ">R</span> denotes that it is the
“regular” (default, normal, upright, roman) style.

</p>
<p class=indent>
Similarly, convert the other Baskervald OTFs, taking care to use
the same prefix (<span style="font-family: monospace; ">baskervald</span>) and the suffixes <span style="font-family: monospace; ">I</span>, <span style="font-family: monospace; ">B</span>, and
<span style="font-family: monospace; ">BI</span> for the italic, bold and bold-italic styles. I.e.,

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;otf2groff.sh&#xa0;BaskervaldADFStd-Italic.otf&#xa0;baskervaldI<Br>
&#xa0;&#xa0;otf2groff.sh&#xa0;BaskervaldADFStd-Bold.otf&#xa0;baskervaldB<Br>
&#xa0;&#xa0;otf2groff.sh&#xa0;BaskervaldADFStd-BoldItalic.otf&#xa0;baskervaldBI<Br>
<p>
</p>
</span><p>


</p>
<p>
The <span style="font-family: monospace; ">download.addition</span> file should now contain

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;BaskervaldADFStd&#xa0;BaskervaldADFStd.pfa<Br>
&#xa0;&#xa0;BaskervaldADFStd-Bold&#xa0;BaskervaldADFStd-Bold.pfa<Br>
&#xa0;&#xa0;BaskervaldADFStd-Italic&#xa0;BaskervaldADFStd-Italic.pfa<Br>
&#xa0;&#xa0;BaskervaldADFStd-BoldItalic&#xa0;BaskervaldADFStd-BoldItalic.pfa<Br>
<p>
</p>
</span><p>


</p>
<p>
Add these lines to <span style="font-family: monospace; ">groffonts/devps/download</span> (creating this
file if it doesn’t already exist).

</p>
<p class=indent>
You’re now ready to use the <span style="font-family: monospace; ">baskervald</span> font in groff.  Call groff
with the option <span style="font-family: monospace; ">-f baskervald</span> on your document, say <span style="font-family: monospace; ">doc.ms</span>.

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;groff&#xa0;-f&#xa0;baskervald&#xa0;-ms&#xa0;doc.ms&#xa0;&#x3e;&#xa0;doc.ps<Br>
&#xa0;&#xa0;ps2pdf&#xa0;doc.ps&#xa0;doc.pdf<Br>
<p>
</p>
</span><p>


</p>
<p>
<span style="font-family: monospace; ">doc.pdf</span> should now be in Baskervald rather than groff’s default
Times.

</p>
<p class=indent>
It is also possible to set the font family within the groff
document, using the command

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;.fam&#xa0;baskervald<Br>
<p>
</p>
</span><p>


</p>
<p>
</p>
<p>
<h2>Using single-style fonts</h2>
</p>
<p>
You may prefer to use just one style of an OTF, perhaps because
the OTF comes in only one style.  Let’s say we want to set the
body text in EB Garamond, obtainable from
http://fontsquirrel.com/fonts/eb-garamond.  As above, copy the
<span style="font-family: monospace; ">EBGaramond.otf</span> to <span style="font-family: monospace; ">groffonts/devps</span> and convert it to the groff
font <span style="font-family: monospace; ">ebgaramondR</span>:

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;otf2groff.sh&#xa0;EBGaramond.otf&#xa0;ebgaramondR<Br>
<p>
</p>
</span><p>


</p>
<p>
and add the <span style="font-family: monospace; ">download.addition</span> line to <span style="font-family: monospace; ">devps/download</span>.

</p>
<p class=indent>
In your document, have

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;.fp&#xa0;1&#xa0;ebgaramondR<Br>
<p>
</p>
</span><p>


</p>
<p>
Sometimes, the single style you want is the bold, possibly for
section headers.  Thus, to use the bold from TeX Gyre Pagella,
(available at
<a href="http://www.gust.org.pl/projects/e-foundry/tex-gyre/pagella"><span class=hreftext>http://www.gust.org.pl/projects/e-foundry/tex-gyre/pagella</span></a>), call

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;otf2groff.sh&#xa0;texgyrepagella-bold.otf&#xa0;pagellaB<Br>
<p>
</p>
</span><p>


</p>
<p>
add the corresponding line from <span style="font-family: monospace; ">download.addition</span> to
<span style="font-family: monospace; ">devps/download</span>, and in your document, call

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;.ftr&#xa0;B&#xa0;pagellaB<Br>
<p>
</p>
</span><p>
<p>
</p>
<p>
<div align=right class=colophon>
<div align=right class=advertisement>
HTML conversion by <a href="http://ds26gte.github.io/troff2page/index.html"><span class=hreftext>troff2page 20170816</span></a>
</div>
</div>
</p>

</div>
</body>
</html>
